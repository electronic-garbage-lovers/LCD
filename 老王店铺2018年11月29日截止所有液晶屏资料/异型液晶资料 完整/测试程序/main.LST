C51 COMPILER V9.01   MAIN                                                                  09/20/2018 18:47:53 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Keil51\C51\BIN\C51.EXE main.c BROWSE INCDIR(..\测试程序;C:\Keil\C51\INC;C:\Keil51\C51\INC;C:\Kei
                    -l\C51\INC\STC) DEBUG OBJECTEXTEND

line level    source

   1          #include "STC12C5A60S2.H"   //死特惨的STC8A4K32S2A12
   2          
   3          #define uchar unsigned char
   4          #define uint unsigned int
   5          
   6           uchar code LCD_DISPLAY_CHN[240]={
   7           /*--  文字:  隔  --*/
   8           /*--  Dutch801 XBd BT12;  此字体下对应的点阵为：宽x高=16x20   --*/
   9          0x00,0x00,0x00,0x00,0x00,0x00,0x7B,0xFE,0x48,0x00,0x51,0xFC,0x51,0x04,0x61,0x04,
  10          0x51,0xFC,0x48,0x00,0x4B,0xFE,0x4A,0x8A,0x6A,0x52,0x53,0xFE,0x42,0x22,0x42,0x22,
  11          0x42,0x2A,0x42,0x04,0x00,0x00,0x00,0x00 ,  
  12          /*--  文字:  壁  --*/
  13          /*--  Dutch801 XBd BT12;  此字体下对应的点阵为：宽x高=16x20   --*/
  14          0x00,0x00,0x00,0x00,0x00,0x40,0x7C,0x20,0x45,0xFC,0x44,0x88,0x7C,0x50,0x43,0xFE,
  15          0x7C,0x20,0xA5,0xFC,0x24,0x20,0x3D,0x20,0x01,0x00,0x3F,0xF8,0x01,0x00,0x01,0x00,
  16          0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,0x00   ,
  17          
  18          /*--  文字:  论  --*/
  19          /*--  Dutch801 XBd BT12;  此字体下对应的点阵为：宽x高=16x20   --*/
  20          0x00,0x00,0x00,0x00,0x00,0x40,0x20,0x40,0x10,0xA0,0x10,0xA0,0x01,0x10,0x02,0x08,
  21          0xF4,0x06,0x11,0x10,0x11,0x20,0x11,0x40,0x11,0x80,0x11,0x00,0x15,0x04,0x19,0x04,
  22          0x10,0xFC,0x00,0x00,0x00,0x00,0x00,0x00 ,
  23                                                                                          
  24          /*--  文字:  坛  --*/
  25          /*--  Dutch801 XBd BT12;  此字体下对应的点阵为：宽x高=16x20   --*/
  26          0x00,0x00,0x00,0x00,0x10,0x00,0x10,0x00,0x11,0xFC,0x10,0x00,0x10,0x00,0xFC,0x00,
  27          0x13,0xFE,0x10,0x20,0x10,0x20,0x10,0x40,0x10,0x40,0x1C,0x88,0xE1,0x04,0x43,0xFE,
  28          0x01,0x02,0x00,0x00,0x00,0x00,0x00,0x00 ,
  29          
  30          /*--  文字:  老  --*/
  31          /*--  Dutch801 XBd BT12;  此字体下对应的点阵为：宽x高=16x20   --*/
  32          0x00,0x00,0x00,0x00,0x02,0x00,0x02,0x08,0x3F,0xD0,0x02,0x20,0x02,0x40,0xFF,0xFE,
  33          0x01,0x00,0x02,0x00,0x0C,0x10,0x18,0xE0,0x2F,0x00,0x48,0x08,0x88,0x08,0x08,0x08,
  34          0x07,0xF8,0x00,0x00,0x00,0x00,0x00,0x00 ,
  35          
  36          /*--  文字:  王  --*/
  37          /*--  Dutch801 XBd BT12;  此字体下对应的点阵为：宽x高=16x20   --*/
  38          0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0xFC,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
  39          0x01,0x00,0x3F,0xF8,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,
  40          0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,
  41          
  42          
  43          };
  44          
  45           uchar code LCD_DATA[1717] = {    //全屏图片：让老王赶紧上新
  46          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  47          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X0C,0XFC,0X00,0X00,
  48          0X00,0X00,0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0X0F,0XFC,0X00,
  49          0X00,0X00,0X00,0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,0XFC,
  50          0XF0,0X03,0X00,0X00,0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X3F,
  51          0XFC,0XF0,0X03,0X00,0X00,0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  52          0X3F,0XFC,0XF0,0X03,0X00,0X00,0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  53          0XFC,0XFF,0XFC,0XF0,0X03,0X00,0X00,0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  54          0X00,0XFF,0XFF,0XFC,0XF0,0X03,0X00,0X00,0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,
C51 COMPILER V9.01   MAIN                                                                  09/20/2018 18:47:53 PAGE 2   

  55          0X00,0XC0,0XFF,0XFF,0XFF,0XFF,0X3F,0X00,0X00,0XC0,0XFF,0XFF,0XFF,0XFF,0X3F,0X00,
  56          0X00,0X00,0XC0,0XCF,0XFF,0XFF,0XFF,0X3F,0X00,0X00,0XC0,0XFF,0XFF,0XFF,0XFF,0X3F,
  57          0X00,0X00,0X00,0XC0,0XCF,0XCF,0XFF,0XFF,0X3F,0X00,0X00,0XC0,0XFF,0XFF,0XFF,0XFF,
  58          0X3F,0X00,0X00,0X00,0XC0,0XCF,0X0F,0XFF,0XF0,0X03,0X00,0X00,0XC0,0XFF,0XFF,0XFF,
  59          0XFF,0X3F,0X00,0X00,0X00,0XC0,0X0F,0X3F,0XFF,0XF0,0X03,0X00,0X00,0XC0,0X0F,0X00,
  60          0XF0,0X03,0X00,0X00,0X00,0X00,0XC0,0X0F,0X3F,0XFC,0XF3,0X03,0X00,0X00,0XC0,0X0F,
  61          0X00,0XF0,0X03,0X00,0X00,0X00,0X00,0XC0,0X0F,0X3F,0XFC,0XFF,0X03,0X00,0X00,0XC0,
  62          0X0F,0X00,0XF0,0X03,0X00,0X00,0X00,0X00,0XC0,0X0F,0X3F,0XFC,0X0F,0X00,0X00,0X00,
  63          0XC0,0X0F,0X00,0XF0,0X03,0X00,0X00,0X00,0X00,0XC0,0X0F,0XFF,0XFC,0X3F,0X00,0X00,
  64          0X00,0XC0,0X0F,0X00,0XF0,0X03,0X00,0X00,0X00,0X00,0XC0,0XFF,0XFC,0XFC,0XFC,0X00,
  65          0X00,0X00,0XC0,0X0F,0X00,0XF0,0X03,0X00,0X00,0X00,0X00,0XC0,0XFF,0X3C,0XFC,0XF0,
  66          0X03,0X00,0X00,0XC0,0X0F,0X00,0XF0,0X03,0X00,0X00,0X00,0X00,0X00,0X3F,0X0C,0XFC,
  67          0XF0,0X00,0X00,0X00,0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  68          0XFC,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  69          0X00,0XFC,0X00,0X00,0X00,0X00,0X00,0X0C,0X00,0XF0,0X00,0X00,0X00,0X00,0X00,0X00,
  70          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XF0,0XF0,0XC0,0X03,0X00,0X00,0X00,
  71          0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,0XF3,0XF0,0XCF,0X03,0X00,0X00,
  72          0X00,0XC0,0X0F,0XC0,0X0F,0XC0,0X0F,0X00,0X00,0XF0,0XC3,0XF3,0XF0,0XFF,0X03,0X00,
  73          0X00,0X00,0XC0,0X0F,0XC0,0X0F,0XC0,0X0F,0X00,0X00,0XF0,0X03,0XF0,0XF0,0XCF,0X3F,
  74          0X00,0X00,0X00,0XC0,0X0F,0XC0,0X0F,0XC0,0X0F,0X00,0X00,0XF0,0XFF,0XFF,0XFF,0XC0,
  75          0X3F,0X00,0X00,0X00,0XC0,0X0F,0XC0,0X0F,0XC0,0X0F,0X00,0X00,0XC0,0XFF,0XFF,0XFF,
  76          0XC0,0X3F,0X00,0X00,0X00,0XC0,0X0F,0XC0,0X0F,0XC0,0X0F,0X00,0X00,0X00,0XC0,0XF0,
  77          0XF0,0XFF,0X03,0X00,0X00,0X00,0XC0,0X0F,0XC0,0X0F,0XC0,0X0F,0X00,0X00,0X00,0XF0,
  78          0XF3,0XF0,0XFF,0X03,0X00,0X00,0X00,0XC0,0X0F,0XC0,0X0F,0XC0,0X0F,0X00,0X00,0X00,
  79          0XFC,0XF3,0XF0,0XCC,0X03,0X00,0X00,0X00,0XC0,0XFF,0XFF,0XFF,0XFF,0X0F,0X00,0X00,
  80          0XC0,0X33,0XF0,0XF0,0XC0,0X03,0X00,0X00,0X00,0XC0,0XFF,0XFF,0XFF,0XFF,0X0F,0X00,
  81          0X00,0XF0,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0XFF,0XFF,0XFF,0XFF,0X0F,
  82          0X00,0X00,0XC0,0XFF,0XFF,0XFF,0XFF,0X03,0X00,0X00,0X00,0XC0,0X0F,0XC0,0X0F,0XC0,
  83          0X0F,0X00,0X00,0X00,0XFC,0XFF,0XFF,0XFF,0X03,0X00,0X00,0X00,0XC0,0X0F,0XC0,0X0F,
  84          0XC0,0X0F,0X00,0X00,0X00,0X00,0XFC,0XFF,0XFF,0X03,0X00,0X00,0X00,0XC0,0X0F,0XC0,
  85          0X0F,0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0XFC,0XC0,0X0F,0X00,0X00,0X00,0XC0,0X0F,
  86          0XC0,0X0F,0XC0,0X0F,0X00,0X00,0XF0,0XFF,0XFF,0XFF,0XC0,0X0F,0X00,0X00,0X00,0XC0,
  87          0X0F,0XC0,0X0F,0XC0,0X0F,0X00,0X00,0XF0,0XFF,0XFF,0XFF,0XC0,0X0F,0X00,0X00,0X00,
  88          0XC0,0X0F,0XC0,0X0F,0XC0,0X0F,0X00,0X00,0XF0,0XFF,0XFF,0XFF,0X00,0X3F,0X00,0X00,
  89          0X00,0XC0,0X0F,0XC0,0X0F,0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0XFC,0X00,0X3F,0X00,
  90          0X00,0X00,0XC0,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFC,0X00,0X00,
  91          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
  92          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFC,0X00,0X00,0X00,0X00,0XF0,0XFF,0XFF,0X00,
  93          0X00,0X00,0X00,0X00,0X00,0XC0,0XFF,0X0F,0XFC,0XF0,0X03,0X00,0X00,0XF0,0XFF,0XFF,
  94          0X00,0X00,0X00,0X00,0X00,0X00,0XF0,0XFF,0XFF,0XFC,0XF0,0X03,0X00,0X00,0XF0,0XFF,
  95          0XFF,0XF0,0XFF,0X0F,0X00,0X00,0X00,0X00,0XFC,0XFF,0XFC,0XF0,0X03,0X00,0X00,0XC0,
  96          0X0F,0XFC,0XF0,0XFF,0X0F,0X00,0X00,0X00,0X00,0X3F,0X00,0XFC,0XFF,0X3F,0X00,0X00,
  97          0XC0,0X0F,0XFC,0XF0,0XFF,0X0F,0X00,0X00,0X00,0X00,0XFF,0XFF,0XFF,0XFF,0X3F,0X00,
  98          0X00,0XC0,0X0F,0XFC,0XF0,0XC3,0X0F,0X00,0X00,0X00,0XC0,0XFF,0XFF,0XFF,0XFF,0X3F,
  99          0X00,0X00,0XF0,0XFF,0XFF,0XF0,0XC3,0X0F,0X00,0X00,0X00,0XC0,0XFF,0XFF,0XFF,0XF0,
 100          0X03,0X00,0X00,0XF0,0XFF,0XFF,0XF0,0XC3,0X0F,0X00,0X00,0X00,0XC0,0X0F,0X3F,0XFC,
 101          0XF0,0X03,0X00,0X00,0XF0,0XFF,0XFF,0XF0,0XC3,0X0F,0X00,0X00,0X00,0XC0,0X0F,0X3F,
 102          0XFC,0XF0,0X03,0X00,0X00,0X00,0X00,0X00,0XF0,0XC3,0X0F,0X00,0X00,0X00,0XC0,0X0F,
 103          0X00,0X3F,0X00,0X00,0X00,0X00,0XF0,0XFF,0XFF,0XF0,0XC3,0X0F,0X00,0X00,0X00,0XC0,
 104          0X0F,0X00,0X3F,0XC0,0X0F,0X00,0X00,0XF0,0XFF,0XFF,0XF0,0XC3,0X0F,0X00,0X00,0X00,
 105          0XC0,0X0F,0X00,0X3F,0XC0,0X0F,0X00,0X00,0XF0,0XFF,0XFF,0XF0,0XC3,0X0F,0X00,0X00,
 106          0X00,0XC0,0X0F,0X00,0X3F,0XC0,0X0F,0X00,0X00,0XC0,0X0F,0XFC,0XF0,0XC3,0X0F,0X00,
 107          0X00,0X00,0XC0,0XCF,0XFF,0XFF,0XFF,0X0F,0X00,0X00,0XC0,0X0F,0XFC,0XF0,0XFF,0X0F,
 108          0X00,0X00,0X00,0XC0,0XCF,0XFF,0XFF,0XFF,0X0F,0X00,0X00,0XC0,0X0F,0XFC,0XF0,0XFF,
 109          0X0F,0X00,0X00,0X00,0XC0,0XCF,0XFF,0XFF,0XFF,0X0F,0X00,0X00,0XF0,0XFF,0XFF,0XF0,
 110          0XFF,0X0F,0X00,0X00,0X00,0XC0,0X0F,0X00,0X3F,0XC0,0X0F,0X00,0X00,0XF0,0XFF,0XFF,
 111          0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0X0F,0X00,0X3F,0XC0,0X0F,0X00,0X00,0XF0,0XFF,
 112          0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0X0F,0X00,0X3F,0XC0,0X0F,0X00,0X00,0X00,
 113          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X0C,0X00,0X00,0X00,0X00,0X00,0X00,
 114          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 115          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0X00,0X00,0XF0,0XFF,0X0F,
 116          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XF0,0XC3,0X03,0XF0,0XFF,
C51 COMPILER V9.01   MAIN                                                                  09/20/2018 18:47:53 PAGE 3   

 117          0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0XCF,0XF3,0XF0,
 118          0XFF,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0XCF,0XFF,
 119          0X03,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XFF,
 120          0XFF,0XF3,0XFF,0X3F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 121          0XFF,0XFF,0XF3,0XFF,0X3F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 122          0XF0,0XC3,0XFF,0XFF,0XFF,0X3F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 123          0X00,0XF0,0XC3,0XFF,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 124          0X00,0X00,0XF0,0XFF,0XFC,0XFC,0X03,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 125          0X00,0X00,0X00,0XF0,0XFF,0XFC,0XFC,0XF3,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 126          0X00,0X00,0X00,0X00,0XC0,0XFF,0XFC,0XF0,0XFF,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,
 127          0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0XF0,0XC0,0X3F,0X0F,0X00,0X00,0X00,0X00,0X00,
 128          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XC3,0XF0,0XC3,0X0F,0X0F,0X00,0X00,0X00,0X00,
 129          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XCF,0XFC,0XC3,0X0F,0X0F,0X00,0X00,0X00,
 130          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0XCF,0XFF,0XC0,0X3F,0X0F,0X00,0X00,
 131          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0XC3,0X0F,0XC0,0XFF,0X0F,0X00,
 132          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0XC3,0X03,0XF0,0XF3,0X0F,
 133          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XF0,0XF3,0X03,0XF0,0XC0,
 134          0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XC0,0XC0,0X00,0XF0,
 135          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 136          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 137          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 138          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 139          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 140          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 141          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 142          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 143          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 144          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 145          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 146          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 147          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 148          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 149          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 150          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 151          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 152          0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
 153          0X00,0X00,0X00,0X00,0X00,
 154          };       
 155          uchar code LCD_INT[74] =          //LCD的初始化指令，具体含义写在后面
 156                  {
 157                          0X78,0X80,      //选择地址,0X3C，加上W/R为0X78
 158                          0X01,0X80,      //进0页
 159                          0X09,0X80,      //选1页PPS:选页指令在0页。
 160                          0X06,0X80,      //选择正常显示模式
 161                          0X12,0X80,      //选择偏置模式
 162                          0X40,0X80,      //选择前8行的显示模式？？
 163                          0X01,0X80,      //回0页
 164                          0X16,0X80,      //选择垂直模式，掉电模式
 165                          0x20,0x80,      //选择Y地址，默认为0，可不设置。
 166                          0X40,0X80,      //选择X地址，默认为0，可不设置.
 167                          0X0C,0X80,      //翻到4页
 168                          0X05,0X80,      //打开显示和直接驱动模式（电压倍增器）
 169                          0X01,0X80,      //回0页
 170                          0X0A,0X80,      //选2页
 171                          0X08,0X80,      //设定2倍VLCD电压
 172                          0X12,0X80,      //设定温度系数2
 173                          0X04,0X80,      //设定VLCD为低，并关闭高压发生器
 174              0XC8,0X80,  //设定VLCD电压 ~=7.74V  //4.5+72*0.045
 175                          0X01,0X80,      //回0页
 176                          0X0B,0X80,      //翻到3页
 177                          0X40,0X80,      //选择灰度0（寄存器）
 178                          0X80,0X80,      //灰度0设为0
C51 COMPILER V9.01   MAIN                                                                  09/20/2018 18:47:53 PAGE 4   

 179                    0X41,0X80,    //选额灰度1
 180                          0X94,0X80,      //灰度1设为20
 181                          0X42,0X80,      //选择灰度2
 182                          0XA8,0X80,      //灰度2设为40
 183                          0X43,0X80,      //选择灰度3
 184                          0XBF,0X80,      //灰度3设为63
 185                          0X01,0X80,      //回0页
 186                          0X0A,0X80,      //选择2页
 187                          0X05,0X80,      //设定VLCD为低，并打开高压发生器
 188                          0X01,0X80,      //回0页
 189                          0X12,0X80,      //打开操作模式，设定垂直模式 ，交换MSB和LSB 0X12:不交换MSB和LSB
 190                          0X0A,0X80,      //翻到2页
 191                          0X09,0X80,      //设定VLCD为3X
 192                          0X0A,0X80,      //设定VLCD为4X
 193                          0X0B,0X40,      //设定VLCD为5x，X040：后面开始写DDRAM显示数据
 194                  };
 195                  
 196          //delay ----------------------------------------------------------------------
 197          void delayus()
 198          {
 199   1              uchar i=6;
 200   1              while(i--);
 201   1      }
 202          
 203          void delayms()
 204          {
 205   1              uchar i, j;
 206   1              i = 32;
 207   1              j = 40;
 208   1              while (j--)
 209   1              {       while (i--);
 210   2              }
 211   1              }
 212          
 213          
 214          //I2C init ----------------------------------------------------------------------
 215          sbit I2CRST = P0^0; //定义I2C引脚
 216          sbit SCL =P0^1;
 217          sbit SDA = P0^2;
 218          
 219          void I2C_SOFT_START() //软件模拟I2C 开始信号
 220          {
 221   1              SDA = 1;
 222   1              delayus();
 223   1              SCL = 1;
 224   1              delayus();
 225   1              SDA = 0;
 226   1              delayus();
 227   1              SCL     =       0;
 228   1              SDA     = 1;
 229   1      }
 230          
 231          void I2C_SOFT_STOP() //软件模拟I2C 停止信号
 232          {
 233   1              SDA = 0;
 234   1              delayus();
 235   1              SCL = 1;
 236   1              delayus();
 237   1              SDA = 1;
 238   1              delayus();
 239   1              SCL     =       0;
 240   1              SDA     = 1;
C51 COMPILER V9.01   MAIN                                                                  09/20/2018 18:47:53 PAGE 5   

 241   1      }
 242          
 243          
 244          void I2C_SOFT_SEND(uchar S_SND)   //软件模拟I2C，写1字节数据
 245          {
 246   1              uchar i,SOFT_ACK,SND;
 247   1              SOFT_ACK = 1;
 248   1      while (SOFT_ACK)        
 249   1      {
 250   2              SND = S_SND;
 251   2       for (i=8;i!=0;i--)
 252   2              {
 253   3                      if(SND & 0X80)
 254   3                              SDA = 1;
 255   3                      else SDA = 0;
 256   3                      SND <<=1;
 257   3                      delayus();
 258   3      //              delayus();
 259   3                      SCL = 1;
 260   3                      delayus();
 261   3      //              delayus();
 262   3                      SCL=0;
 263   3                      delayus();
 264   3              }
 265   2                      SDA =1;
 266   2                      delayus();
 267   2                      SCL = 1;
 268   2                      if(~SDA)
 269   2                      {
 270   3                              delayus();  //貌似少了这个延时，有时候不能顺利初始化
 271   3                              SOFT_ACK = 0; //判断是否重发
 272   3                      }SCL=0;
 273   2      }
 274   1      }
 275          
 276          //LCD INT ------------------------------------------------------
 277          void LCD_INIT()
 278          {
 279   1              uint num;
 280   1              I2CRST = 0;                                             //RST腿拉低
 281   1              delayms();
 282   1              I2CRST = 1;
 283   1        delayms();
 284   1              delayms();
 285   1              delayms();
 286   1              delayms();
 287   1              I2C_SOFT_START();                       //发送开始信号
 288   1                      for(num=0;num<=74;num++)
 289   1                      {
 290   2                              I2C_SOFT_SEND(LCD_INT[num]);
 291   2      
 292   2                      }                                                                               
 293   1              }
 294          
 295          void LCD_TEST1()        //连续写屏
 296          {
 297   1              uint num;
 298   1                              for(num=0;num<=1717;num++)
 299   1                      {
 300   2                              I2C_SOFT_SEND(LCD_DATA[num]);
 301   2      
 302   2                      }       
C51 COMPILER V9.01   MAIN                                                                  09/20/2018 18:47:53 PAGE 6   

 303   1              }
 304          
 305          
 306          void LCD_SET_XY(uchar x,y)  //设定在X,Y位置写数据
 307          {
 308   1      
 309   1      
 310   1      I2C_SOFT_STOP();                                //芯片没有返回指令列表的指令，SO，结束I2C，再打开。
 311   1              delayus();
 312   1      I2C_SOFT_START();       
 313   1      
 314   1      I2C_SOFT_SEND(0X78);    //选地址
 315   1      I2C_SOFT_SEND(0X80);    //这个蛋疼的芯片，每次写一条指令都要说明下一条是指令还是数据，所以这么多0X80。
 316   1      I2C_SOFT_SEND(0X01);    //选页指令
 317   1      I2C_SOFT_SEND(0X80);    
 318   1      I2C_SOFT_SEND(0X040|y); //设置Y地址，（0-16）
 319   1      I2C_SOFT_SEND(0X80);            
 320   1      I2C_SOFT_SEND(0X80|x);  //设置X地址，   （0-100）
 321   1      I2C_SOFT_SEND(0X40);            //0x40表示后面开始写数据
 322   1      }
 323          
 324          void WriteCHN16x20(uchar x,y,d)
 325           {
 326   1              uchar n, xx,yy,sd;
 327   1      
 328   1              xx=x;
 329   1              yy=y;
 330   1              sd=d;
 331   1              
 332   1               LCD_SET_XY( xx,yy);
 333   1              for(n=0;n<20;n++)
 334   1                      {
 335   2      
 336   2      
 337   2                      
 338   2                      I2C_SOFT_SEND(LCD_DISPLAY_CHN[sd]);
 339   2              
 340   2                      sd=sd+1;
 341   2                      }
 342   1              LCD_SET_XY( xx++,yy+1); 
 343   1              for(n=20;n<40;n++)
 344   1              {
 345   2                      sd=20;
 346   2                      
 347   2                      I2C_SOFT_SEND(LCD_DISPLAY_CHN[sd]);
 348   2              
 349   2                              sd=sd+1;
 350   2              }
 351   1       }        
 352          
 353          void main()
 354          {
 355   1      uchar n;
 356   1      P0M0=0;
 357   1      P0M1=0;
 358   1      LCD_INIT();             //LCD初始化
 359   1      
 360   1      //WriteCHN16x20( 0,0,0);
 361   1      //WriteCHN16x20( 30,0,40);
 362   1      //WriteCHN16x20( 60,0,80);
 363   1      //WriteCHN16x20( 90,0,120);
 364   1      //WriteCHN16x20( 0,5,160);
C51 COMPILER V9.01   MAIN                                                                  09/20/2018 18:47:53 PAGE 7   

 365   1      //WriteCHN16x20( 60,5,180);
 366   1      
 367   1      LCD_TEST1();    //连续写数据测试下
 368   1      /*LCD_SET_XY(60,4);     //设定从XY位置开始更新数据。
 369   1              for(n=100;n>0;n--)              //我还不会用字库，先在这个位置写几个黑点测试下。
 370   1              {
 371   1                      I2C_SOFT_SEND(0XFF);
 372   1              }       */
 373   1              
 374   1              
 375   1              while(1);               
 376   1      }
*** WARNING C280 IN LINE 355 OF MAIN.C: 'n': unreferenced local variable


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    344    ----
   CONSTANT SIZE    =   2031    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       8
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
